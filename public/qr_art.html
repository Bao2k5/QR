<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫°o QR Ngh·ªá Thu·∫≠t</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            background: #eee;
            padding: 20px;
        }

        canvas {
            border: 5px solid white;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            max-width: 100%;
            height: auto;
        }

        .btn {
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background: #ff4757;
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <h1>QR Code c·ªßa Th√πy Anh & B·∫£o</h1>
    <p>Nh·∫•p chu·ªôt ph·∫£i v√†o ·∫£nh d∆∞·ªõi ƒë·ªÉ l∆∞u v·ªÅ m√°y nha!</p>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        const imgBg = new Image();
        imgBg.src = 'qr_bg.jpg';

        const imgQr = new Image();
        // Using strict API to get a transparent QR code
        imgQr.src = 'https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://qr-ahmt.onrender.com/&color=ff4757&bgcolor=ffffff&margin=10';

        imgBg.onload = function () {
            // Set canvas size to match image
            canvas.width = imgBg.width;
            canvas.height = imgBg.height;

            // Draw Background
            ctx.drawImage(imgBg, 0, 0);

            // Add a semi-transparent box for QR
            const qrSize = Math.min(canvas.width, canvas.height) * 0.4;
            const x = (canvas.width - qrSize) / 2;
            const y = (canvas.height - qrSize) / 2;

            // White rounded rect background for QR visibility
            ctx.fillStyle = "rgba(255, 255, 255, 0.9)";
            ctx.beginPath();
            ctx.roundRect(x - 20, y - 20, qrSize + 40, qrSize + 40, 20);
            ctx.fill();

            // Draw QR Code centered (Waiting for QR to load)
            if (imgQr.complete) {
                ctx.drawImage(imgQr, x, y, qrSize, qrSize);
            } else {
                imgQr.onload = function () {
                    ctx.drawImage(imgQr, x, y, qrSize, qrSize);
                }
            }

            // Add Text
            ctx.fillStyle = "#ff4757";
            ctx.font = `bold ${canvas.width * 0.05}px Arial`;
            ctx.textAlign = "center";
            ctx.fillText("Qu√©t tui ƒëi! üíñ", canvas.width / 2, y + qrSize + 60);
        };
    </script>
</body>

</html>